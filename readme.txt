20*((2.4-1.8)/0.4+0.15)

1.词分析
20
*
(
(
2.4
-
1.8
)
/
0.4
+
0.15
)

2.语法分析
二、中缀表达式转换为后缀表达式

法则：

1）如果遇到数字，我们就直接将其输出。
2）如果遇到非数字时，若栈为空或者该符号为左括号或者栈顶元素为括号，直接入栈。
3）如果遇到一个右括号，持续出栈并输出符号，直到栈顶元素为左括号，然后将左括号出栈（注意，左括号只出栈，不输出），右括号不入栈
4）如果遇到运算符号且栈非空，查看栈顶元素，如果栈顶元素的运算优先级大于或者等于该运算符号，则持续出栈，直到栈顶元素优先级小于该运算符。最后将该元素入栈
5）如果我们读到了输入的末尾，则将栈中所有元素依次弹出。

比如上面的9+(3-1)*3+6/2

1、遇到9 输出9，此时屏幕显示9，栈为空

2、遇到+号，此时栈空，直接入栈，此时屏幕显示9，栈元素只有一个+号

3、遇到左括号，直接入栈，此时屏幕显示9，栈元素为 + （

4、遇到3，输出3，此时屏幕显示9 3，栈元素为+ (

5、遇到-号，栈顶元素为（，入栈，此时屏幕显示9 3，栈元素为+ （ -

6、遇到1，输出1，此时屏幕显示9 3 1，栈元素为+ （ -

7、遇到），持续出栈，直到栈顶为（，并将（出栈但不输出，且）不入栈。此时屏幕显示9 3 1 -，栈元素为+

8、遇到*，此时栈顶元素为+，优先级大于栈顶元素，入栈，此时，屏幕显示9 3 1 -，栈元素为+ *

9、遇到3，输出3，此时屏幕显示9 3 1 - 3，栈元素为+ *

10、遇到+，此时栈顶元素为*，优先级大于等于+，出栈并输出，之后栈顶元素为+，优先级依然大于等于+，出栈并输出，此时栈空，+入栈，此时屏幕显示9 3 1 - 3 * +，栈元素为+

11、遇到6，输出6.此时屏幕显示9 3 1 - 3 * + 6，栈元素为+

12、遇到/，优先级大于栈顶元素，入栈，此时屏幕显示9 3 1 - 3 * + 6，栈元素为+ /

13、遇到2，输出2，此时屏幕显示9 3 1 - 3 * + 6 2

14、此时所有输入读取完毕，将栈中元素依次出栈至空，最后，屏幕显示9 3 1 - 3 * + 6 2 / +

以上就是中缀表达式转换为后缀表达式的全过程展示。

3.计算
